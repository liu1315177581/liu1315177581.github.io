define("8703c4f63d94eb87655f",function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=t("d91881461446e4b10db9"),i=n(a),r=t("c75ffe0048d039d6b26f"),d=n(r),p=t("0d1b0cb35e9a9eae78b8"),s=n(p),u=t("5043e2debfb10dc7325b"),f=n(u),l=t("b9d8ccd10e584532c7fa"),c=n(l),m=t("53ab468d896ac9e0f717"),h=n(m),g=t("93140d1a4fe9dea51a2e"),y=n(g),b=t("21bb258da0a791b110a7"),v=n(b),I=t("961a0cfb32e8002c95e8"),N=n(I),D=t("a6df4276915c9b2bb437"),U=n(D),x=t("e80ecb263dc89a8a2228"),M=n(x),T={position:"absolute",top:0,opacity:0,filter:"alpha(opacity=0)",left:0,zIndex:9999},E=function(t){function e(){var o,n,a;s["default"](this,e);for(var i=arguments.length,r=Array(i),d=0;i>d;d++)r[d]=arguments[d];return o=n=f["default"](this,t.call.apply(t,[this].concat(r))),n.state={uploading:!1},n.file={},n.onLoad=function(){if(n.state.uploading){var t=n,e=t.props,o=t.file,a=void 0;try{var i=n.getIframeDocument(),r=i.getElementsByTagName("script")[0];r&&r.parentNode===i.body&&i.body.removeChild(r),a=i.body.innerHTML,e.onSuccess(a,o)}catch(d){M["default"](!1,"cross domain error for Upload. Maybe server should return document.domain script. see Note from https://github.com/react-component/upload"),a="cross-domain",e.onError(d,null,o)}n.endUpload()}},n.onChange=function(){var t=n.getFormInputNode(),e=n.file={uid:U["default"](),name:t.value};n.startUpload();var o=n,a=o.props;if(!a.beforeUpload)return n.post(e);var i=a.beforeUpload(e);i&&i.then?i.then(function(){n.post(e)},function(){n.endUpload()}):i!==!1?n.post(e):n.endUpload()},a=o,f["default"](n,a)}return c["default"](e,t),e.prototype.componentDidMount=function(){this.updateIframeWH(),this.initIframe()},e.prototype.componentDidUpdate=function(){this.updateIframeWH()},e.prototype.getIframeNode=function(){return this.refs.iframe},e.prototype.getIframeDocument=function(){return this.getIframeNode().contentDocument},e.prototype.getFormNode=function(){return this.getIframeDocument().getElementById("form")},e.prototype.getFormInputNode=function(){return this.getIframeDocument().getElementById("input")},e.prototype.getFormDataNode=function(){return this.getIframeDocument().getElementById("data")},e.prototype.getFileForMultiple=function(t){return this.props.multiple?[t]:t},e.prototype.getIframeHTML=function(t){var e="",o="";if(t){var n="script";e="<"+n+'>document.domain="'+t+'";</'+n+">",o='<input name="_documentDomain" value="'+t+'" />'}return'\n    <!DOCTYPE html>\n    <html>\n    <head>\n    <meta http-equiv="X-UA-Compatible" content="IE=edge" />\n    <style>\n    body,html {padding:0;margin:0;border:0;overflow:hidden;}\n    </style>\n    '+e+'\n    </head>\n    <body>\n    <form method="post"\n    encType="multipart/form-data"\n    action="'+this.props.action+'" id="form"\n    style="display:block;height:9999px;position:relative;overflow:hidden;">\n    <input id="input" type="file"\n     name="'+this.props.name+'"\n     style="position:absolute;top:0;right:0;height:9999px;font-size:9999px;cursor:pointer;"/>\n    '+o+'\n    <span id="data"></span>\n    </form>\n    </body>\n    </html>\n    '},e.prototype.initIframeSrc=function(){this.domain&&(this.getIframeNode().src="javascript:void((function(){\n        var d = document;\n        d.open();\n        d.domain='"+this.domain+"';\n        d.write('');\n        d.close();\n      })())")},e.prototype.initIframe=function(){var t=this.getIframeNode(),e=t.contentWindow,o=void 0;this.domain=this.domain||"",this.initIframeSrc();try{o=e.document}catch(n){this.domain=document.domain,this.initIframeSrc(),e=t.contentWindow,o=e.document}o.open("text/html","replace"),o.write(this.getIframeHTML(this.domain)),o.close(),this.getFormInputNode().onchange=this.onChange},e.prototype.endUpload=function(){this.state.uploading&&(this.file={},this.state.uploading=!1,this.setState({uploading:!1}),this.initIframe())},e.prototype.startUpload=function(){this.state.uploading||(this.state.uploading=!0,this.setState({uploading:!0}))},e.prototype.updateIframeWH=function(){var t=v["default"].findDOMNode(this),e=this.getIframeNode();e.style.height=t.offsetHeight+"px",e.style.width=t.offsetWidth+"px"},e.prototype.abort=function(t){if(t){var e=t;t&&t.uid&&(e=t.uid),e===this.file.uid&&this.endUpload()}else this.endUpload()},e.prototype.post=function(t){var e=this.getFormNode(),o=this.getFormDataNode(),n=this.props.data,a=this.props.onStart;"function"==typeof n&&(n=n(t));var i=[];for(var r in n)n.hasOwnProperty(r)&&i.push('<input name="'+r+'" value="'+n[r]+'"/>');o.innerHTML=i.join(""),e.submit(),o.innerHTML="",a(t)},e.prototype.render=function(){var t,e=this.props,o=e.component,n=e.disabled,a=e.className,r=e.prefixCls,p=e.children,s=e.style,u=d["default"]({},T,{display:this.state.uploading||n?"none":""}),f=N["default"]((t={},i["default"](t,r,!0),i["default"](t,r+"-disabled",n),i["default"](t,a,a),t));return h["default"].createElement(o,{className:f,style:d["default"]({position:"relative",zIndex:0},s)},h["default"].createElement("iframe",{ref:"iframe",onLoad:this.onLoad,style:u}),p)},e}(m.Component);E.propTypes={component:y["default"].string,style:y["default"].object,disabled:y["default"].bool,prefixCls:y["default"].string,className:y["default"].string,accept:y["default"].string,onStart:y["default"].func,multiple:y["default"].bool,children:y["default"].any,data:y["default"].oneOfType([y["default"].object,y["default"].func]),action:y["default"].string,name:y["default"].string},e["default"]=E,o.exports=e["default"]});