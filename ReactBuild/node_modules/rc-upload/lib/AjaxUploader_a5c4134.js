define("a96df97b9d369885fb6e",function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=e("c75ffe0048d039d6b26f"),r=n(a),l=e("d91881461446e4b10db9"),i=n(l),u=e("0d1b0cb35e9a9eae78b8"),f=n(u),s=e("5043e2debfb10dc7325b"),d=n(s),c=e("b9d8ccd10e584532c7fa"),p=n(c),b=e("53ab468d896ac9e0f717"),h=n(b),y=e("93140d1a4fe9dea51a2e"),v=n(y),m=e("961a0cfb32e8002c95e8"),g=n(m),C=e("f19879583b417941a4eb"),D=n(C),j=e("a6df4276915c9b2bb437"),k=n(j),q=function(e){function t(){var o,n,a;f["default"](this,t);for(var r=arguments.length,l=Array(r),i=0;r>i;i++)l[i]=arguments[i];return o=n=d["default"](this,e.call.apply(e,[this].concat(l))),n.state={uid:k["default"]()},n.reqs={},n.onChange=function(e){var t=e.target.files;n.uploadFiles(t),n.reset()},n.onClick=function(){var e=n.refs.file;e&&e.click()},n.onKeyDown=function(e){"Enter"===e.key&&n.onClick()},n.onFileDrop=function(e){if("dragover"===e.type)return void e.preventDefault();var t=e.dataTransfer.files;n.uploadFiles(t),e.preventDefault()},a=o,d["default"](n,a)}return p["default"](t,e),t.prototype.componentDidMount=function(){this._isMounted=!0},t.prototype.componentWillUnmount=function(){this._isMounted=!1,this.abort()},t.prototype.uploadFiles=function(e){for(var t=Array.prototype.slice.call(e),o=t.length,n=0;o>n;n++){var a=t[n];a.uid=k["default"](),this.upload(a,t)}},t.prototype.upload=function(e,t){var o=this,n=this.props;if(!n.beforeUpload)return setTimeout(function(){return o.post(e)},0);var a=n.beforeUpload(e,t);a&&a.then?a.then(function(t){var n=Object.prototype.toString.call(t);o.post("[object File]"===n||"[object Blob]"===n?t:e)})["catch"](function(e){console&&console.log(e)}):a!==!1&&setTimeout(function(){return o.post(e)},0)},t.prototype.post=function(e){var t=this;if(this._isMounted){var o=this.props,n=o.data,a=o.onStart,r=o.onProgress;"function"==typeof n&&(n=n(e));var l=e.uid,i=o.customRequest||D["default"];this.reqs[l]=i({action:o.action,filename:o.name,file:e,data:n,headers:o.headers,withCredentials:o.withCredentials,onProgress:r?function(t){r(t,e)}:null,onSuccess:function(n){delete t.reqs[l],o.onSuccess(n,e)},onError:function(n,a){delete t.reqs[l],o.onError(n,a,e)}}),a(e)}},t.prototype.reset=function(){this.setState({uid:k["default"]()})},t.prototype.abort=function(e){var t=this.reqs;if(e){var o=e;e&&e.uid&&(o=e.uid),t[o]&&(t[o].abort(),delete t[o])}else Object.keys(t).forEach(function(e){t[e]&&t[e].abort(),delete t[e]})},t.prototype.render=function(){var e,t=this.props,o=t.component,n=t.prefixCls,a=t.className,l=t.disabled,u=t.style,f=t.multiple,s=t.accept,d=t.children,c=g["default"]((e={},i["default"](e,n,!0),i["default"](e,n+"-disabled",l),i["default"](e,a,a),e)),p=l?{}:{onClick:this.onClick,onKeyDown:this.onKeyDown,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:"0"};return h["default"].createElement(o,r["default"]({},p,{className:c,role:"button",style:u}),h["default"].createElement("input",{type:"file",ref:"file",key:this.state.uid,style:{display:"none"},accept:s,multiple:f,onChange:this.onChange}),d)},t}(b.Component);q.propTypes={component:v["default"].string,style:v["default"].object,prefixCls:v["default"].string,className:v["default"].string,multiple:v["default"].bool,disabled:v["default"].bool,accept:v["default"].string,children:v["default"].any,onStart:v["default"].func,data:v["default"].oneOfType([v["default"].object,v["default"].func]),headers:v["default"].object,beforeUpload:v["default"].func,customRequest:v["default"].func,onProgress:v["default"].func,withCredentials:v["default"].bool},t["default"]=q,o.exports=t["default"]});