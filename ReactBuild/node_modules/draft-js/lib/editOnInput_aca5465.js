define("2760eb3545529dcef523",function(e,t,n){function o(e){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var t=f.getSelection(),n=t.anchorNode,o=t.isCollapsed,a=n.nodeType!==Node.TEXT_NODE,u=n.nodeType!==Node.TEXT_NODE&&n.nodeType!==Node.ELEMENT_NODE;if(i.draft_killswitch_allow_nontextnodes){if(a)return}else if(u)return;if(n.nodeType===Node.TEXT_NODE&&(null!==n.previousSibling||null!==n.nextSibling)){var y=n.parentNode;n.nodeValue=y.textContent;for(var b=y.firstChild;null!==b;b=b.nextSibling)b!==n&&y.removeChild(b)}var E=n.textContent,h=e._latestEditorState,T=s(c(n)),v=l.decode(T),O=v.blockKey,S=v.decoratorKey,N=v.leafKey,_=h.getBlockTree(O).getIn([S,"leaves",N]),m=_.start,x=_.end,B=h.getCurrentContent(),k=B.getBlockForKey(O),w=k.getText().slice(m,x);if(E.endsWith(p)&&(E=E.slice(0,-1)),E!==w){var C,A,I,M,D=h.getSelection(),F=D.merge({anchorOffset:m,focusOffset:x,isBackward:!1}),K=k.getEntityAt(m),X=K&&B.getEntity(K),L=X&&X.getMutability(),G="MUTABLE"===L,U=G?"spellcheck-change":"apply-entity",V=d.replaceText(B,F,E,k.getInlineStyleAt(m),G?k.getEntityAt(m):null);if(g)C=t.anchorOffset,A=t.focusOffset,I=m+Math.min(C,A),M=I+Math.abs(C-A),C=I,A=M;else{var W=E.length-w.length;I=D.getStartOffset(),M=D.getEndOffset(),C=o?M+W:I,A=M+W}var j=V.merge({selectionBefore:B.getSelectionAfter(),selectionAfter:D.merge({anchorOffset:C,focusOffset:A})});e.update(r.push(h,j,U))}}var f="undefined"!=typeof f?f:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},i=e("5aa05cff3f5d674ea314"),d=e("bcb4bb480016f0f63632"),l=e("91ce1f8305bce0e052eb"),r=e("5fc5d591063122aa9e49"),a=e("94d437d0adb359f83347"),c=e("83d5ecfa67bdccb519d0"),s=e("fed924b96ee456cf53c2"),g=a.isEngine("Gecko"),p="\n\n";n.exports=o});