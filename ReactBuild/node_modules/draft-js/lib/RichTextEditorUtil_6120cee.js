define("c80fe1d8d0f6e6d9a5f8",function(e,t,n){"use strict";var r=e("bcb4bb480016f0f63632"),o=e("5fc5d591063122aa9e49"),l=(e("ffcd7ba2be6a2ffb4807"),e("5c1b2891f09e5c19e4a8")),c=e("fed924b96ee456cf53c2"),g={currentBlockContainsLink:function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=n.getEntityMap();return n.getBlockForKey(t.getAnchorKey()).getCharacterList().slice(t.getStartOffset(),t.getEndOffset()).some(function(e){var t=e.getEntity();return!!t&&"LINK"===r.__get(t).getType()})},getCurrentBlockType:function(e){var t=e.getSelection();return e.getCurrentContent().getBlockForKey(t.getStartKey()).getType()},getDataObjectForLinkURL:function(e){return{url:e.toString()}},handleKeyCommand:function(e,t){switch(t){case"bold":return g.toggleInlineStyle(e,"BOLD");case"italic":return g.toggleInlineStyle(e,"ITALIC");case"underline":return g.toggleInlineStyle(e,"UNDERLINE");case"code":return g.toggleCode(e);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return g.onBackspace(e);case"delete":case"delete-word":case"delete-to-end-of-block":return g.onDelete(e);default:return null}},insertSoftNewline:function(e){var t=r.insertText(e.getCurrentContent(),e.getSelection(),"\n",e.getCurrentInlineStyle(),null),n=o.push(e,t,"insert-characters");return o.forceSelection(n,t.getSelectionAfter())},onBackspace:function(e){var t=e.getSelection();if(!t.isCollapsed()||t.getAnchorOffset()||t.getFocusOffset())return null;var n=e.getCurrentContent(),r=t.getStartKey(),l=n.getBlockBefore(r);if(l&&"atomic"===l.getType()){var c=n.getBlockMap()["delete"](l.getKey()),a=n.merge({blockMap:c,selectionAfter:t});if(a!==n)return o.push(e,a,"remove-range")}var i=g.tryToRemoveBlockStyle(e);return i?o.push(e,i,"change-block-type"):null},onDelete:function(e){var t=e.getSelection();if(!t.isCollapsed())return null;var n=e.getCurrentContent(),l=t.getStartKey(),c=n.getBlockForKey(l),g=c.getLength();if(t.getStartOffset()<g)return null;var a=n.getBlockAfter(l);if(!a||"atomic"!==a.getType())return null;var i=t.merge({focusKey:a.getKey(),focusOffset:a.getLength()}),u=r.removeRange(n,i,"forward");return u!==n?o.push(e,u,"remove-range"):null},onTab:function(e,t,n){var r=t.getSelection(),c=r.getAnchorKey();if(c!==r.getFocusKey())return t;var g=t.getCurrentContent(),a=g.getBlockForKey(c),i=a.getType();if("unordered-list-item"!==i&&"ordered-list-item"!==i)return t;e.preventDefault();var u=g.getBlockBefore(c);if(!u)return t;var f=u.getType();if("unordered-list-item"!==f&&"ordered-list-item"!==f)return t;var s=a.getDepth();if(!e.shiftKey&&s===n)return t;n=Math.min(u.getDepth()+1,n);var y=l(g,r,e.shiftKey?-1:1,n);return o.push(t,y,"adjust-depth")},toggleBlockType:function(e,t){var n=e.getSelection(),l=n.getStartKey(),g=n.getEndKey(),a=e.getCurrentContent(),i=n;if(l!==g&&0===n.getEndOffset()){var u=c(a.getBlockBefore(g));g=u.getKey(),i=i.merge({anchorKey:l,anchorOffset:n.getStartOffset(),focusKey:g,focusOffset:u.getLength(),isBackward:!1})}var f=a.getBlockMap().skipWhile(function(e,t){return t!==l}).reverse().skipWhile(function(e,t){return t!==g}).some(function(e){return"atomic"===e.getType()});if(f)return e;var s=a.getBlockForKey(l).getType()===t?"unstyled":t;return o.push(e,r.setBlockType(a,i,s),"change-block-type")},toggleCode:function(e){var t=e.getSelection(),n=t.getAnchorKey(),r=t.getFocusKey();return t.isCollapsed()||n!==r?g.toggleBlockType(e,"code-block"):g.toggleInlineStyle(e,"CODE")},toggleInlineStyle:function(e,t){var n=e.getSelection(),l=e.getCurrentInlineStyle();if(n.isCollapsed())return o.setInlineStyleOverride(e,l.has(t)?l.remove(t):l.add(t));var c,g=e.getCurrentContent();return c=l.has(t)?r.removeInlineStyle(g,n,t):r.applyInlineStyle(g,n,t),o.push(e,c,"change-inline-style")},toggleLink:function(e,t,n){var l=r.applyEntity(e.getCurrentContent(),t,n);return o.push(e,l,"apply-entity")},tryToRemoveBlockStyle:function(e){var t=e.getSelection(),n=t.getAnchorOffset();if(t.isCollapsed()&&0===n){var o=t.getAnchorKey(),l=e.getCurrentContent(),c=l.getBlockForKey(o);if(c.getLength()>0)return null;var g=c.getType(),a=l.getBlockBefore(o);if("code-block"===g&&a&&"code-block"===a.getType())return null;if("unstyled"!==g)return r.setBlockType(l,t,"unstyled")}return null}};n.exports=g});