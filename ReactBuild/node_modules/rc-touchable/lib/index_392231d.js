define("78b87c55f3882f6eccee",function(e,t,E){"use strict";function R(e){return e&&e.__esModule?e:{"default":e}}function o(e){return Object.keys(e).forEach(function(t){return e[t]=t}),e}function n(e,t){var E={};return t.forEach(function(t){E[t]=e[t]}),E}function i(e){var t=e.touches,E=e.changedTouches,R=t&&t.length>0,o=E&&E.length>0;return!R&&o?E[0]:R?t[0]:e}function a(){return Date.now()-V>=M}Object.defineProperty(t,"__esModule",{value:!0});var s=e("0d1b0cb35e9a9eae78b8"),l=R(s),_=e("a1378e881cf057319e73"),u=R(_),S=e("5043e2debfb10dc7325b"),c=R(S),r=e("b9d8ccd10e584532c7fa"),h=R(r),T=e("53ab468d896ac9e0f717"),N=R(T),P=e("8a67f202859bf19c5b34"),O=R(P),D=e("21bb258da0a791b110a7"),d=R(D),v=o({NOT_RESPONDER:null,RESPONDER_INACTIVE_PRESS_IN:null,RESPONDER_INACTIVE_PRESS_OUT:null,RESPONDER_ACTIVE_PRESS_IN:null,RESPONDER_ACTIVE_PRESS_OUT:null,RESPONDER_ACTIVE_LONG_PRESS_IN:null,RESPONDER_ACTIVE_LONG_PRESS_OUT:null,ERROR:null}),p={RESPONDER_ACTIVE_PRESS_OUT:!0,RESPONDER_ACTIVE_PRESS_IN:!0},f={RESPONDER_INACTIVE_PRESS_IN:!0,RESPONDER_ACTIVE_PRESS_IN:!0,RESPONDER_ACTIVE_LONG_PRESS_IN:!0},A={RESPONDER_ACTIVE_LONG_PRESS_IN:!0},I=o({DELAY:null,RESPONDER_GRANT:null,RESPONDER_RELEASE:null,RESPONDER_TERMINATED:null,ENTER_PRESS_RECT:null,LEAVE_PRESS_RECT:null,LONG_PRESS_DETECTED:null}),C={NOT_RESPONDER:{DELAY:v.ERROR,RESPONDER_GRANT:v.RESPONDER_INACTIVE_PRESS_IN,RESPONDER_RELEASE:v.ERROR,RESPONDER_TERMINATED:v.ERROR,ENTER_PRESS_RECT:v.ERROR,LEAVE_PRESS_RECT:v.ERROR,LONG_PRESS_DETECTED:v.ERROR},RESPONDER_INACTIVE_PRESS_IN:{DELAY:v.RESPONDER_ACTIVE_PRESS_IN,RESPONDER_GRANT:v.ERROR,RESPONDER_RELEASE:v.NOT_RESPONDER,RESPONDER_TERMINATED:v.NOT_RESPONDER,ENTER_PRESS_RECT:v.RESPONDER_INACTIVE_PRESS_IN,LEAVE_PRESS_RECT:v.RESPONDER_INACTIVE_PRESS_OUT,LONG_PRESS_DETECTED:v.ERROR},RESPONDER_INACTIVE_PRESS_OUT:{DELAY:v.RESPONDER_ACTIVE_PRESS_OUT,RESPONDER_GRANT:v.ERROR,RESPONDER_RELEASE:v.NOT_RESPONDER,RESPONDER_TERMINATED:v.NOT_RESPONDER,ENTER_PRESS_RECT:v.RESPONDER_INACTIVE_PRESS_IN,LEAVE_PRESS_RECT:v.RESPONDER_INACTIVE_PRESS_OUT,LONG_PRESS_DETECTED:v.ERROR},RESPONDER_ACTIVE_PRESS_IN:{DELAY:v.ERROR,RESPONDER_GRANT:v.ERROR,RESPONDER_RELEASE:v.NOT_RESPONDER,RESPONDER_TERMINATED:v.NOT_RESPONDER,ENTER_PRESS_RECT:v.RESPONDER_ACTIVE_PRESS_IN,LEAVE_PRESS_RECT:v.RESPONDER_ACTIVE_PRESS_OUT,LONG_PRESS_DETECTED:v.RESPONDER_ACTIVE_LONG_PRESS_IN},RESPONDER_ACTIVE_PRESS_OUT:{DELAY:v.ERROR,RESPONDER_GRANT:v.ERROR,RESPONDER_RELEASE:v.NOT_RESPONDER,RESPONDER_TERMINATED:v.NOT_RESPONDER,ENTER_PRESS_RECT:v.RESPONDER_ACTIVE_PRESS_IN,LEAVE_PRESS_RECT:v.RESPONDER_ACTIVE_PRESS_OUT,LONG_PRESS_DETECTED:v.ERROR},RESPONDER_ACTIVE_LONG_PRESS_IN:{DELAY:v.ERROR,RESPONDER_GRANT:v.ERROR,RESPONDER_RELEASE:v.NOT_RESPONDER,RESPONDER_TERMINATED:v.NOT_RESPONDER,ENTER_PRESS_RECT:v.RESPONDER_ACTIVE_LONG_PRESS_IN,LEAVE_PRESS_RECT:v.RESPONDER_ACTIVE_LONG_PRESS_OUT,LONG_PRESS_DETECTED:v.RESPONDER_ACTIVE_LONG_PRESS_IN},RESPONDER_ACTIVE_LONG_PRESS_OUT:{DELAY:v.ERROR,RESPONDER_GRANT:v.ERROR,RESPONDER_RELEASE:v.NOT_RESPONDER,RESPONDER_TERMINATED:v.NOT_RESPONDER,ENTER_PRESS_RECT:v.RESPONDER_ACTIVE_LONG_PRESS_IN,LEAVE_PRESS_RECT:v.RESPONDER_ACTIVE_LONG_PRESS_OUT,LONG_PRESS_DETECTED:v.ERROR},error:{DELAY:v.NOT_RESPONDER,RESPONDER_GRANT:v.RESPONDER_INACTIVE_PRESS_IN,RESPONDER_RELEASE:v.NOT_RESPONDER,RESPONDER_TERMINATED:v.NOT_RESPONDER,ENTER_PRESS_RECT:v.NOT_RESPONDER,LEAVE_PRESS_RECT:v.NOT_RESPONDER,LONG_PRESS_DETECTED:v.NOT_RESPONDER}},g=130,L=20,m=500,y=m-g,b=10,V=0,M=200,k=function(e){function t(){l["default"](this,t);var e=c["default"](this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={active:!1},e.onTouchStart=function(t){e.callChildEvent("onTouchStart",t),e.lockMouse=!0,e.releaseLockTimer&&clearTimeout(e.releaseLockTimer),e.touchableHandleResponderGrant(t.nativeEvent)},e.onTouchMove=function(t){e.callChildEvent("onTouchMove",t),e.touchableHandleResponderMove(t.nativeEvent)},e.onTouchEnd=function(t){e.callChildEvent("onTouchEnd",t),e.releaseLockTimer=setTimeout(function(){e.lockMouse=!1},300),e.touchableHandleResponderRelease(t.nativeEvent)},e.onTouchCancel=function(t){e.callChildEvent("onTouchCancel",t),e.releaseLockTimer=setTimeout(function(){e.lockMouse=!1},300),e.touchableHandleResponderTerminate(t.nativeEvent)},e.onMouseDown=function(t){e.callChildEvent("onMouseDown",t),e.lockMouse||(e.touchableHandleResponderGrant(t.nativeEvent),document.addEventListener("mousemove",e.touchableHandleResponderMove,!1),document.addEventListener("mouseup",e.onMouseUp,!1))},e.onMouseUp=function(t){document.removeEventListener("mousemove",e.touchableHandleResponderMove,!1),document.removeEventListener("mouseup",e.onMouseUp,!1),e.touchableHandleResponderRelease(t)},e.touchableHandleResponderMove=function(t){if(e.touchable.startMouse&&e.touchable.dimensionsOnActivate&&e.touchable.touchState!==v.NOT_RESPONDER&&e.touchable.touchState!==v.RESPONDER_INACTIVE_PRESS_IN){var E=i(t),R=E&&E.pageX,o=E&&E.pageY;if(e.pressInLocation){var n=e._getDistanceBetweenPoints(R,o,e.pressInLocation.pageX,e.pressInLocation.pageY);n>b&&e._cancelLongPressDelayTimeout()}if(e.checkTouchWithinActive(t)){e._receiveSignal(I.ENTER_PRESS_RECT,t);var a=e.touchable.touchState;a===v.RESPONDER_INACTIVE_PRESS_IN&&e._cancelLongPressDelayTimeout()}else e._cancelLongPressDelayTimeout(),e._receiveSignal(I.LEAVE_PRESS_RECT,t)}},e}return h["default"](t,e),u["default"](t,[{key:"componentWillMount",value:function(){this.touchable={touchState:void 0}}},{key:"componentDidMount",value:function(){this.root=d["default"].findDOMNode(this)}},{key:"componentDidUpdate",value:function(){this.root=d["default"].findDOMNode(this),this.props.disabled&&this.state.active&&this.setState({active:!1})}},{key:"componentWillUnmount",value:function(){this.releaseLockTimer&&clearTimeout(this.releaseLockTimer),this.touchableDelayTimeout&&clearTimeout(this.touchableDelayTimeout),this.longPressDelayTimeout&&clearTimeout(this.longPressDelayTimeout),this.pressOutDelayTimeout&&clearTimeout(this.pressOutDelayTimeout)}},{key:"callChildEvent",value:function(e,t){var E=N["default"].Children.only(this.props.children).props[e];E&&E(t)}},{key:"_remeasureMetricsOnInit",value:function(e){var t=this.root,E=i(e),R=t.getBoundingClientRect();this.touchable={touchState:this.touchable.touchState,startMouse:{pageX:E.pageX,pageY:E.pageY},positionOnGrant:{left:R.left+window.pageXOffset,top:R.top+window.pageYOffset,width:R.width,height:R.height,clientLeft:R.left,clientTop:R.top}}}},{key:"touchableHandleResponderGrant",value:function(e){var t=this;if(this.touchable.touchState=v.NOT_RESPONDER,this.pressOutDelayTimeout&&(clearTimeout(this.pressOutDelayTimeout),this.pressOutDelayTimeout=null),!this.props.fixClickPenetration||a()){this._remeasureMetricsOnInit(e),this._receiveSignal(I.RESPONDER_GRANT,e);var E=this.props.delayPressIn;E?this.touchableDelayTimeout=setTimeout(function(){t._handleDelay(e)},E):this._handleDelay(e);var R=this.props.delayLongPress;this.longPressDelayTimeout=setTimeout(function(){t._handleLongDelay(e)},R+E)}}},{key:"checkScroll",value:function(e){var t=this.touchable.positionOnGrant,E=this.root.getBoundingClientRect();return E.left!==t.clientLeft||E.top!==t.clientTop?(this._receiveSignal(I.RESPONDER_TERMINATED,e),!1):void 0}},{key:"touchableHandleResponderRelease",value:function(e){if(this.touchable.startMouse){var t=i(e);return Math.abs(t.pageX-this.touchable.startMouse.pageX)>30||Math.abs(t.pageY-this.touchable.startMouse.pageY)>30?void this._receiveSignal(I.RESPONDER_TERMINATED,e):void(this.checkScroll(e)!==!1&&this._receiveSignal(I.RESPONDER_RELEASE,e))}}},{key:"touchableHandleResponderTerminate",value:function(e){this.touchable.startMouse&&this._receiveSignal(I.RESPONDER_TERMINATED,e)}},{key:"checkTouchWithinActive",value:function(e){var t=this.touchable.positionOnGrant,E=this.props,R=E.pressRetentionOffset,o=void 0===R?{}:R,n=E.hitSlop,a=o.left,s=o.top,l=o.right,_=o.bottom;n&&(a+=n.left,s+=n.top,l+=n.right,_+=n.bottom);var u=i(e),S=u&&u.pageX,c=u&&u.pageY;return S>t.left-a&&c>t.top-s&&S<t.left+t.width+l&&c<t.top+t.height+_}},{key:"callProp",value:function(e,t){this.props[e]&&!this.props.disabled&&this.props[e](t)}},{key:"touchableHandleActivePressIn",value:function(e){this.setActive(!0),this.callProp("onPressIn",e)}},{key:"touchableHandleActivePressOut",value:function(e){this.setActive(!1),this.callProp("onPressOut",e)}},{key:"touchableHandlePress",value:function(e){this.callProp("onPress",e),V=Date.now()}},{key:"touchableHandleLongPress",value:function(e){this.callProp("onLongPress",e)}},{key:"setActive",value:function(e){(this.props.activeClassName||this.props.activeStyle)&&this.setState({active:e})}},{key:"_remeasureMetricsOnActivation",value:function(){this.touchable.dimensionsOnActivate=this.touchable.positionOnGrant}},{key:"_handleDelay",value:function(e){this.touchableDelayTimeout=null,this._receiveSignal(I.DELAY,e)}},{key:"_handleLongDelay",value:function(e){this.longPressDelayTimeout=null;var t=this.touchable.touchState;t!==v.RESPONDER_ACTIVE_PRESS_IN&&t!==v.RESPONDER_ACTIVE_LONG_PRESS_IN?console.error("Attempted to transition from state `"+t+"` to `"+v.RESPONDER_ACTIVE_LONG_PRESS_IN+"`, which is not supported. This is most likely due to `Touchable.longPressDelayTimeout` not being cancelled."):this._receiveSignal(I.LONG_PRESS_DETECTED,e)}},{key:"_receiveSignal",value:function(e,t){var E=this.touchable.touchState,R=C[E]&&C[E][e];R&&R!==v.ERROR&&E!==R&&(this._performSideEffectsForTransition(E,R,e,t),this.touchable.touchState=R)}},{key:"_cancelLongPressDelayTimeout",value:function(){this.longPressDelayTimeout&&(clearTimeout(this.longPressDelayTimeout),this.longPressDelayTimeout=null)}},{key:"_isHighlight",value:function(e){return e===v.RESPONDER_ACTIVE_PRESS_IN||e===v.RESPONDER_ACTIVE_LONG_PRESS_IN}},{key:"_savePressInLocation",value:function(e){var t=i(e),E=t&&t.pageX,R=t&&t.pageY;this.pressInLocation={pageX:E,pageY:R}}},{key:"_getDistanceBetweenPoints",value:function(e,t,E,R){var o=e-E,n=t-R;return Math.sqrt(o*o+n*n)}},{key:"_performSideEffectsForTransition",value:function(e,t,E,R){var o=this._isHighlight(e),n=this._isHighlight(t),i=E===I.RESPONDER_TERMINATED||E===I.RESPONDER_RELEASE;if(i&&this._cancelLongPressDelayTimeout(),!p[e]&&p[t]&&this._remeasureMetricsOnActivation(),f[e]&&E===I.LONG_PRESS_DETECTED&&this.touchableHandleLongPress(R),n&&!o?this._startHighlight(R):!n&&o&&this._endHighlight(R),f[e]&&E===I.RESPONDER_RELEASE){var a=!!this.props.onLongPress,s=A[e]&&(!a||!this.props.longPressCancelsPress),l=!A[e]||s;l&&(n||o||(this._startHighlight(R),this._endHighlight(R)),this.touchableHandlePress(R))}this.touchableDelayTimeout&&(clearTimeout(this.touchableDelayTimeout),this.touchableDelayTimeout=null)}},{key:"_startHighlight",value:function(e){this._savePressInLocation(e),this.touchableHandleActivePressIn(e)}},{key:"_endHighlight",value:function(e){var t=this;this.props.delayPressOut?this.pressOutDelayTimeout=setTimeout(function(){t.touchableHandleActivePressOut(e)},this.props.delayPressOut):this.touchableHandleActivePressOut(e)}},{key:"render",value:function(){var e=this.props,t=e.children,E=e.disabled,R=e.activeStyle,o=e.activeClassName,i=E?void 0:n(this,["onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onMouseDown"]),a=N["default"].Children.only(t);if(!E&&this.state.active){var s=a.props,l=s.style,_=s.className;return R&&(l=O["default"]({},l,R)),o&&(_?_+=" "+o:_=o),N["default"].cloneElement(a,O["default"]({className:_,style:l},i))}return N["default"].cloneElement(a,i)}}]),t}(N["default"].Component);t["default"]=k,k.defaultProps={fixClickPenetration:!1,disabled:!1,delayPressIn:g,delayLongPress:y,delayPressOut:100,pressRetentionOffset:{left:L,right:L,top:L,bottom:L},hitSlop:void 0,longPressCancelsPress:!0},E.exports=t["default"]});