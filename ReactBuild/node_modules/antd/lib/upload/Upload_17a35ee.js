define("7f19bfe5e1f96b7b08d4",function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var s=e("d91881461446e4b10db9"),r=o(s),i=e("c75ffe0048d039d6b26f"),l=o(i),n=e("0d1b0cb35e9a9eae78b8"),f=o(n),d=e("5043e2debfb10dc7325b"),c=o(d),u=e("b9d8ccd10e584532c7fa"),p=o(u),h=e("53ab468d896ac9e0f717"),m=o(h),v=e("450a958f14073469ab51"),g=o(v),L=e("93140d1a4fe9dea51a2e"),b=o(L),y=e("961a0cfb32e8002c95e8"),P=o(y),S=e("8a67f202859bf19c5b34"),T=o(S),w=e("32f12d7454a42310c67e"),E=o(w),F=e("984975ea7db1e88887f7"),N={uploading:"文件上传中",removeFile:"删除文件",uploadError:"上传错误",previewFile:"预览文件"},C=function(e){function t(a){f["default"](this,t);var o=c["default"](this,e.call(this,a));return o.onStart=function(e){var t=void 0,a=o.state.fileList.concat();e.length>0?(t=e.map(function(e){var t=F.fileToObject(e);return t.status="uploading",t}),a=a.concat(t)):(t=F.fileToObject(e),t.status="uploading",a.push(t)),o.onChange({file:t,fileList:a}),window.FormData||o.autoUpdateProgress(0,t)},o.onSuccess=function(e,t){o.clearProgressTimer();try{"string"==typeof e&&(e=JSON.parse(e))}catch(a){}var s=o.state.fileList,r=F.getFileItem(t,s);r&&(r.status="done",r.response=e,o.onChange({file:l["default"]({},r),fileList:s}))},o.onProgress=function(e,t){var a=o.state.fileList,s=F.getFileItem(t,a);s&&(s.percent=e.percent,o.onChange({event:e,file:l["default"]({},s),fileList:o.state.fileList}))},o.onError=function(e,t,a){o.clearProgressTimer();var s=o.state.fileList,r=F.getFileItem(a,s);r&&(r.error=e,r.response=t,r.status="error",o.onChange({file:l["default"]({},r),fileList:s}))},o.handleManualRemove=function(e){o.refs.upload.abort(e),e.status="removed",o.handleRemove(e)},o.onChange=function(e){"fileList"in o.props||o.setState({fileList:e.fileList});var t=o.props.onChange;t&&t(e)},o.onFileDrop=function(e){o.setState({dragState:e.type})},o.state={fileList:o.props.fileList||o.props.defaultFileList||[],dragState:"drop"},o}return p["default"](t,e),t.prototype.componentWillUnmount=function(){this.clearProgressTimer()},t.prototype.getLocale=function(){var e={};return this.context.antLocale&&this.context.antLocale.Upload&&(e=this.context.antLocale.Upload),T["default"]({},N,e,this.props.locale)},t.prototype.autoUpdateProgress=function(e,t){var a=this,o=F.genPercentAdd(),s=0;this.clearProgressTimer(),this.progressTimer=setInterval(function(){s=o(s),a.onProgress({percent:s},t)},200)},t.prototype.handleRemove=function(e){var t=this,a=this.props.onRemove;Promise.resolve("function"==typeof a?a(e):a).then(function(a){if(a!==!1){var o=F.removeFileItem(e,t.state.fileList);o&&t.onChange({file:e,fileList:o})}})},t.prototype.componentWillReceiveProps=function(e){"fileList"in e&&this.setState({fileList:e.fileList||[]})},t.prototype.clearProgressTimer=function(){clearInterval(this.progressTimer)},t.prototype.render=function(){var e,t=this.props,a=t.prefixCls,o=void 0===a?"":a,s=t.showUploadList,i=t.listType,n=t.onPreview,f=t.type,d=t.disabled,c=t.children,u=t.className,p=T["default"]({},{onStart:this.onStart,onError:this.onError,onProgress:this.onProgress,onSuccess:this.onSuccess},this.props);delete p.className;var h=s.showRemoveIcon,v=s.showPreviewIcon,L=s?m["default"].createElement(E["default"],{listType:i,items:this.state.fileList,onPreview:n,onRemove:this.handleManualRemove,showRemoveIcon:h,showPreviewIcon:v,locale:this.getLocale()}):null;if("drag"===f){var b,y=P["default"](o,(b={},r["default"](b,o+"-drag",!0),r["default"](b,o+"-drag-uploading",this.state.fileList.some(function(e){return"uploading"===e.status})),r["default"](b,o+"-drag-hover","dragover"===this.state.dragState),r["default"](b,o+"-disabled",d),b));return m["default"].createElement("span",{className:u},m["default"].createElement("div",{className:y,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,onDragLeave:this.onFileDrop},m["default"].createElement(g["default"],l["default"]({},p,{ref:"upload",className:o+"-btn"}),m["default"].createElement("div",{className:o+"-drag-container"},c))),L)}var S=P["default"](o,(e={},r["default"](e,o+"-select",!0),r["default"](e,o+"-select-"+i,!0),r["default"](e,o+"-disabled",d),e)),w=m["default"].createElement("div",{className:S,style:{display:c?"":"none"}},m["default"].createElement(g["default"],l["default"]({},p,{ref:"upload"})));return"picture-card"===i?m["default"].createElement("span",{className:u},L,w):m["default"].createElement("span",{className:u},w,L)},t}(m["default"].Component);t["default"]=C,C.defaultProps={prefixCls:"ant-upload",type:"select",multiple:!1,action:"",data:{},accept:"",beforeUpload:F.T,showUploadList:!0,listType:"text",className:"",disabled:!1,supportServerRender:!0},C.contextTypes={antLocale:b["default"].object},a.exports=t["default"]});