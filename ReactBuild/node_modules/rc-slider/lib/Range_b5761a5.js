define("3abdfe2e902d038d93d9",function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=e("d91881461446e4b10db9"),s=u(r),l=e("7c6ec45b25b81ef7a495"),o=u(l),i=e("c75ffe0048d039d6b26f"),d=u(i),f=e("0d1b0cb35e9a9eae78b8"),h=u(f),c=e("a1378e881cf057319e73"),v=u(c),p=e("5043e2debfb10dc7325b"),b=u(p),g=e("b9d8ccd10e584532c7fa"),m=u(g),y=e("53ab468d896ac9e0f717"),k=u(y),C=e("93140d1a4fe9dea51a2e"),V=u(C),O=e("961a0cfb32e8002c95e8"),P=u(O),_=e("ba45a88aa1103a7d904b"),B=u(_),x=e("105a24d467cbbb8a700e"),H=u(x),M=e("ccb08f1dfab8734d8aa3"),S=n(M),N=function(e){function t(e){h["default"](this,t);var a=b["default"](this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.onEnd=function(){a.setState({handle:null}),a.removeDocumentEvents(),a.props.onAfterChange(a.getValue())};var n=e.count,u=e.min,r=e.max,s=Array.apply(null,Array(n+1)).map(function(){return u}),l="defaultValue"in e?e.defaultValue:s,o=void 0!==e.value?e.value:l,i=o.map(function(e){return a.trimAlignValue(e)}),d=i[0]===r?0:i.length-1;return a.state={handle:null,recent:d,bounds:i},a}return m["default"](t,e),v["default"](t,[{key:"componentWillReceiveProps",value:function(e){var t=this;if("value"in e||"min"in e||"max"in e){var a=this.state.bounds,n=e.value||a,u=n.map(function(a){return t.trimAlignValue(a,e)});u.length===a.length&&u.every(function(e,t){return e===a[t]})||(this.setState({bounds:u}),a.some(function(t){return S.isValueOutOfRange(t,e)})&&this.props.onChange(u))}}},{key:"onChange",value:function(e){var t=this.props,a=!("value"in t);a?this.setState(e):void 0!==e.handle&&this.setState({handle:e.handle});var n=d["default"]({},this.state,e),u=n.bounds;t.onChange(u)}},{key:"onStart",value:function(e){var t=this.props,a=this.state,n=this.getValue();t.onBeforeChange(n);var u=this.calcValueByPos(e);this.startValue=u,this.startPosition=e;var r=this.getClosestBound(u),s=this.getBoundNeedMoving(u,r);this.setState({handle:s,recent:s});var l=n[s];if(u!==l){var i=[].concat(o["default"](a.bounds));i[s]=u,this.onChange({bounds:i})}}},{key:"onMove",value:function(e,t){S.pauseEvent(e);var a=this.props,n=this.state,u=this.calcValueByPos(t),r=n.bounds[n.handle];if(u!==r){var s=[].concat(o["default"](n.bounds));s[n.handle]=u;var l=n.handle;if(a.pushable!==!1){var i=n.bounds[l];this.pushSurroundingHandles(s,l,i)}else a.allowCross&&(s.sort(function(e,t){return e-t}),l=s.indexOf(u));this.onChange({handle:l,bounds:s})}}},{key:"getValue",value:function(){return this.state.bounds}},{key:"getClosestBound",value:function(e){for(var t=this.state.bounds,a=0,n=1;n<t.length-1;++n)e>t[n]&&(a=n);return Math.abs(t[a+1]-e)<Math.abs(t[a]-e)&&(a+=1),a}},{key:"getBoundNeedMoving",value:function(e,t){var a=this.state,n=a.bounds,u=a.recent,r=t,s=n[t+1]===n[t];return s&&(r=u),s&&e!==n[t+1]&&(r=e<n[t+1]?t:t+1),r}},{key:"getLowerBound",value:function(){return this.state.bounds[0]}},{key:"getUpperBound",value:function(){var e=this.state.bounds;return e[e.length-1]}},{key:"getPoints",value:function(){var e=this.props,t=e.marks,a=e.step,n=e.min,u=e.max,r=this._getPointsCache;if(!r||r.marks!==t||r.step!==a){var s=d["default"]({},t);if(null!==a)for(var l=n;u>=l;l+=a)s[l]=l;var o=Object.keys(s).map(parseFloat);o.sort(function(e,t){return e-t}),this._getPointsCache={marks:t,step:a,points:o}}return this._getPointsCache.points}},{key:"pushSurroundingHandles",value:function(e,t,a){var n=this.props.pushable,u=e[t],r=0;if(e[t+1]-u<n&&(r=1),u-e[t-1]<n&&(r=-1),0!==r){var s=t+r,l=r*(e[s]-u);this.pushHandle(e,s,r,n-l)||(e[t]=a)}}},{key:"pushHandle",value:function(e,t,a,n){for(var u=e[t],r=e[t];n>a*(r-u);){if(!this.pushHandleOnePoint(e,t,a))return e[t]=u,!1;r=e[t]}return!0}},{key:"pushHandleOnePoint",value:function(e,t,a){var n=this.getPoints(),u=n.indexOf(e[t]),r=u+a;if(r>=n.length||0>r)return!1;var s=t+a,l=n[r],o=this.props.pushable,i=a*(e[s]-l);return this.pushHandle(e,s,a,o-i)?(e[t]=l,!0):!1}},{key:"trimAlignValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=d["default"]({},this.props,t),n=S.ensureValueInRange(e,a),u=this.ensureValueNotConflict(n,a);return S.ensureValuePrecision(u,a)}},{key:"ensureValueNotConflict",value:function(e,t){var a=t.allowCross,n=this.state||{},u=n.handle,r=n.bounds;if(!a&&null!=u){if(u>0&&e<=r[u-1])return r[u-1];if(u<r.length-1&&e>=r[u+1])return r[u+1]}return e}},{key:"render",value:function(){var e=this,t=this.state,a=t.handle,n=t.bounds,u=this.props,r=u.prefixCls,l=u.vertical,o=u.included,i=u.disabled,d=u.handle,f=n.map(function(t){return e.calcOffset(t)}),h=r+"-handle",c=n.map(function(t,n){var u;return d({className:P["default"]((u={},s["default"](u,h,!0),s["default"](u,h+"-"+(n+1),!0),u)),vertical:l,offset:f[n],value:t,dragging:a===n,index:n,disabled:i,ref:function(t){return e.saveHandle(n,t)}})}),v=n.slice(0,-1).map(function(e,t){var a,n=t+1,u=P["default"]((a={},s["default"](a,r+"-track",!0),s["default"](a,r+"-track-"+n,!0),a));return k["default"].createElement(B["default"],{className:u,vertical:l,included:o,offset:f[n-1],length:f[n]-f[n-1],key:n})});return{tracks:v,handles:c}}}]),t}(k["default"].Component);N.displayName="Range",N.propTypes={defaultValue:V["default"].arrayOf(V["default"].number),value:V["default"].arrayOf(V["default"].number),count:V["default"].number,pushable:V["default"].oneOfType([V["default"].bool,V["default"].number]),allowCross:V["default"].bool,disabled:V["default"].bool},N.defaultProps={count:1,allowCross:!0,pushable:!1},t["default"]=H["default"](N),a.exports=t["default"]});